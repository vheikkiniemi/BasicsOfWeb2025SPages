<!DOCTYPE html>
<html lang="fi" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Semantic Demo Â· Tailwind + Dark Mode</title>
  <meta name="description" content="A semantic, accessible demo page using Tailwind CSS via CDN with dark mode support." />

  <!-- Configure Tailwind to use class-based dark mode -->
  <script>
    // Respect saved preference first
    const saved = localStorage.getItem('color-scheme');
    if (saved === 'dark') document.documentElement.classList.add('dark');
    if (saved === 'light') document.documentElement.classList.remove('dark');
  </script>
  <script>
    tailwind.config = { darkMode: 'class' };
  </script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-50 text-gray-800 dark:bg-gray-900 dark:text-gray-100">
  <!-- Skip link for keyboard users -->
  <a href="#main" class="sr-only focus:not-sr-only focus:absolute focus:top-2 focus:left-2 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded px-3 py-2">
    Siirry sisÃ¤ltÃ¶Ã¶n
  </a>

  <!-- Header with brand, nav, and dark-mode toggle -->
  <header class="border-b bg-white dark:bg-gray-950 dark:border-gray-800">
    <div class="mx-auto max-w-5xl px-4 py-4 flex items-center justify-between gap-4">
      <div class="flex items-center gap-3">
        <img src="https://placehold.co/40x40" width="40" height="40" alt="Sivuston logo" class="rounded" />
        <a href="/" class="text-xl font-bold">Basics of Web Development</a>
      </div>

      <nav aria-label="PÃ¤Ã¤valikko" class="hidden sm:block">
        <ul class="flex gap-6">
          <li><a href="#" class="hover:underline" aria-current="page">Home</a></li>
          <li><a href="#topics" class="hover:underline">Topics</a></li>
          <li><a href="#about" class="hover:underline">About</a></li>
          <li><a href="#contact" class="hover:underline">Contact</a></li>
        </ul>
      </nav>

      <!-- Dark mode toggle (accessible) -->
      <button id="themeToggle"
              type="button"
              class="inline-flex items-center gap-2 rounded border px-3 py-2 text-sm bg-gray-50 border-gray-300 hover:bg-gray-100
                     dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700"
              aria-pressed="false"
              title="Toggle dark mode">
        <span id="themeIcon" aria-hidden="true">ðŸŒ™</span>
        <span class="hidden sm:inline">Theme</span>
      </button>
    </div>
  </header>

  <!-- Main content -->
  <main id="main" class="mx-auto max-w-5xl px-4 py-8">
    <!-- Hero -->
    <section aria-labelledby="hero-title" class="mb-10">
      <h1 id="hero-title" class="text-3xl md:text-4xl font-extrabold tracking-tight">
        Learn Semantic HTML & Tailwind
      </h1>
      <p class="mt-3 max-w-prose text-gray-700 dark:text-gray-300">
        This page demonstrates a clean structure using semantic elements:
        <strong>header</strong>, <strong>nav</strong>, <strong>main</strong>, <strong>article</strong>,
        <strong>section</strong>, <strong>aside</strong>, and <strong>footer</strong> â€” with a dark mode toggle.
      </p>
    </section>

    <!-- Two-column layout -->
    <div class="grid gap-8 md:grid-cols-[2fr_1fr]">
      <!-- Article -->
      <article aria-labelledby="article-title" class="bg-white dark:bg-gray-950 border dark:border-gray-800 rounded-lg shadow-sm p-6">
        <header class="mb-4">
          <h2 id="article-title" class="text-2xl font-bold">Why Semantics Matter</h2>
          <p class="text-sm text-gray-600 dark:text-gray-400">Published <time datetime="2025-10-28">28 Oct 2025</time></p>
        </header>

        <p class="mb-4">
          Semantic elements provide meaning to both browsers and assistive technologies.
          They improve accessibility, SEO, and code maintainability.
        </p>

        <figure class="my-6">
          <img
            src="https://placehold.co/800x360"
            alt="Illustration of page regions: header, nav, main, aside, footer"
            class="w-full rounded"
            width="800" height="360" />
          <figcaption class="mt-2 text-sm text-gray-600 dark:text-gray-400">
            Figure: Landmark regions help users navigate quickly.
          </figcaption>
        </figure>

        <section id="topics" aria-labelledby="topics-title" class="mt-6">
          <h3 id="topics-title" class="text-xl font-semibold">Core Topics</h3>
          <ul class="list-disc pl-6 mt-3 space-y-1">
            <li>Landmark elements and document outline</li>
            <li>Accessible navigation and skip links</li>
            <li>Responsive design with utility classes</li>
          </ul>
        </section>

        <footer class="mt-6 pt-4 border-t dark:border-gray-800">
          <p class="text-sm text-gray-600 dark:text-gray-400">Written by Course Staff</p>
        </footer>
      </article>

      <!-- Aside with facts + contact form -->
      <aside aria-labelledby="aside-title" class="bg-white dark:bg-gray-950 border dark:border-gray-800 rounded-lg shadow-sm p-6">
        <h2 id="aside-title" class="text-xl font-semibold">Quick Facts</h2>
        <dl class="mt-4 space-y-2">
          <div class="flex gap-2">
            <dt class="min-w-28 text-gray-600 dark:text-gray-400">Approach</dt>
            <dd>Utility-first (Tailwind)</dd>
          </div>
          <div class="flex gap-2">
            <dt class="min-w-28 text-gray-600 dark:text-gray-400">Responsive</dt>
            <dd>Mobile-first breakpoints</dd>
          </div>
          <div class="flex gap-2">
            <dt class="min-w-28 text-gray-600 dark:text-gray-400">A11y</dt>
            <dd>Landmarks, labels, focus states</dd>
          </div>
        </dl>

        <!-- Contact Form with custom validation messages -->
        <section id="contact" aria-labelledby="contact-title" class="mt-8">
          <h3 id="contact-title" class="text-lg font-semibold">Contact us</h3>
          <form id="contactForm" class="mt-4 space-y-4" action="#" method="post" novalidate>
            <div>
              <label for="name" class="block text-sm font-medium">Name</label>
              <input
                id="name"
                name="name"
                type="text"
                autocomplete="name"
                required
                minlength="2"
                pattern="^[A-Za-zÃ€-Ã–Ã˜-Ã¶Ã¸-Ã¿' -]{2,}$"
                aria-describedby="nameError"
                data-error-target="nameError"
                class="mt-1 w-full rounded border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500
                       dark:bg-gray-900 dark:border-gray-700"
              />
              <p id="nameError" class="mt-1 text-sm text-red-600 hidden" aria-live="polite"></p>
            </div>

            <div>
              <label for="email" class="block text-sm font-medium">Email</label>
              <input
                id="email"
                name="email"
                type="email"
                autocomplete="email"
                required
                aria-describedby="emailError"
                data-error-target="emailError"
                class="mt-1 w-full rounded border px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500
                       dark:bg-gray-900 dark:border-gray-700"
              />
              <p id="emailError" class="mt-1 text-sm text-red-600 hidden" aria-live="polite"></p>
            </div>

            <button
              type="submit"
              class="inline-flex items-center rounded bg-blue-600 px-4 py-2 font-semibold text-white hover:bg-blue-700
                     focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-600
                     dark:focus:ring-offset-gray-900">
              Send
            </button>

            <p id="formSuccess" class="mt-3 text-sm text-green-700 hidden" aria-live="polite"></p>
          </form>
        </section>
      </aside>
    </div>
  </main>

  <!-- Footer -->
  <footer class="mt-12 border-t bg-white dark:bg-gray-950 dark:border-gray-800">
    <div class="mx-auto max-w-5xl px-4 py-6">
      <address class="not-italic text-sm text-gray-600 dark:text-gray-400">
        Basics of Web Development Â· Centria UAS Â· Kokkola, Finland
      </address>
      <p class="text-sm text-gray-600 dark:text-gray-400 mt-2">
        Â© <span id="year"></span> Course Materials. All rights reserved.
      </p>
    </div>
  </footer>

  <!-- Scripts: dark-mode toggle + form validation -->
  <script>
    // Dark mode toggle: class-based + persistence
    (function () {
      const btn = document.getElementById('themeToggle');
      const icon = document.getElementById('themeIcon');
      const root = document.documentElement;

      function isDark(){ return root.classList.contains('dark'); }
      function setDark(on){
        root.classList.toggle('dark', on);
        localStorage.setItem('color-scheme', on ? 'dark' : 'light');
        btn.setAttribute('aria-pressed', String(on));
        icon.textContent = on ? 'ðŸŒž' : 'ðŸŒ™'; // icon indicates action to switch to
      }

      // If no saved pref, mirror OS preference initially (nice default)
      if (!localStorage.getItem('color-scheme')) {
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        setDark(prefersDark);
      } else {
        setDark(localStorage.getItem('color-scheme') === 'dark');
      }

      btn.addEventListener('click', () => setDark(!isDark()));
    })();
  </script>

  <script>
    // Contact form validation with custom messages
    (function () {
      const form = document.getElementById('contactForm');
      const fields = ['name', 'email'].map(id => document.getElementById(id));

      function setError(input, message = '') {
        const errorId = input.getAttribute('data-error-target');
        const errorEl = errorId ? document.getElementById(errorId) : null;
        input.setCustomValidity(message);
        if (errorEl) {
          if (message) {
            errorEl.textContent = message;
            errorEl.classList.remove('hidden');
            input.classList.add('ring-2','ring-red-500','border-red-500');
          } else {
            errorEl.textContent = '';
            errorEl.classList.add('hidden');
            input.classList.remove('ring-2','ring-red-500','border-red-500');
          }
        }
      }

      function validateName() {
        const input = document.getElementById('name');
        const v = input.value.trim();
        if (!v) return setError(input, 'Please enter your name.');
        if (v.length < 2) return setError(input, 'Name must be at least 2 characters.');
        const re = /^[A-Za-zÃ€-Ã–Ã˜-Ã¶Ã¸-Ã¿' -]{2,}$/;
        if (!re.test(v)) return setError(input, 'Only letters, spaces, hyphens, and apostrophes are allowed.');
        return setError(input, '');
      }

      function validateEmail() {
        const input = document.getElementById('email');
        const v = input.value.trim();
        if (!v) return setError(input, 'Please enter your email address.');
        if (!input.checkValidity()) return setError(input, 'Please provide a valid email, e.g., name@example.com.');
        return setError(input, '');
      }

      document.getElementById('name').addEventListener('input', validateName);
      document.getElementById('name').addEventListener('blur', validateName);
      document.getElementById('email').addEventListener('input', validateEmail);
      document.getElementById('email').addEventListener('blur', validateEmail);

      form.addEventListener('submit', (e) => {
        const validators = [validateName, validateEmail];
        validators.forEach(fn => fn());
        const firstInvalid = fields.find(f => !f.checkValidity());
        if (firstInvalid) {
          e.preventDefault();
          firstInvalid.reportValidity();
          firstInvalid.focus({ preventScroll: false });
          return;
        }
        e.preventDefault();
        const ok = document.getElementById('formSuccess');
        ok.textContent = 'Thanks! Your message was validated and would be submitted now.';
        ok.classList.remove('hidden');
        form.reset();
        fields.forEach(f => setError(f, ''));
      });
    })();
  </script>

  <script>
    // Footer year
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
